import{a as d,N as M}from"./vendor-77e6b4aa.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();d.defaults.baseURL="https://books-backend.p.goit.global/books";async function j(e){try{const{data:t}=await d.get("/category-list",{params:{list_name:e}});return t}catch(t){console.log(t.message)}}async function N(e){try{const t=await d.get(`/category?category=${e}`);return console.log(e),t.data}catch(t){console.log(t.message)}}const z=document.querySelector(".list-categories"),S=document.querySelector("h1"),T=document.querySelector(".wrapper-categories"),O=document.querySelector(".best-categories"),P=document.querySelector(".bestseller-title");function D(e,t){const s=e.textContent.split(" "),n=s.pop(),o=s.join(" ")+` <span style="color: ${t};">${n}</span>`;e.innerHTML=o}j().then(e=>{e&&Y(e)}).catch(e=>{console.log(e.message)});function Y(e){const t=e.map(({list_name:n})=>`
        <li class="categories-item">${n}</li>
    `).join("");z.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".categories-item").forEach(n=>{n.addEventListener("click",F)})}function F(e){const t=e.target.textContent;T.innerHTML="",O.innerHTML="",P.innerHTML="",S.innerHTML="";const s=document.createElement("h1");s.textContent=t,s.classList.add("container"),S.appendChild(s),D(s,"#4F2EE8"),N(t).then(n=>{n&&K(n)}).catch(n=>{console.log(n.message)})}function K(e){const t=e.map(({book_image:s,title:n,author:o})=>`
        <div>
            <ul class="list-wrapper-categories">
                <li class="wrapper-categories-item">
                    <img src="${s}" alt="${n}" class="wrapper-categories-img" width="335" height="485" >
                    <h2>${n}</h2>
                    <p class="wrapper-categories-author">${o}</p>
                </li>
            </ul>
        </div>
    `).join("");T.insertAdjacentHTML("beforeend",t)}async function W(){return await d.get("https://books-backend.p.goit.global/books/top-books").then(e=>{if(!e.status)throw new Error(e.status||e.statusText);return e.data})}async function G(e){return await d.get(`https://books-backend.p.goit.global/books/category?category=${e}`).then(t=>{if(!t.status)throw new Error(t.status||t.statusText);return t.data})}function V(e){return e.map(({list_name:t,books:s})=>`<div class="category-div">
                <h3 class="category-title">${t}</h3>
                <ul class="book-list-top">
                ${q(s)}                  
                </ul>
                <button type="button" class="js-see-more-btn">See more</button>             
            </div>`).join("")}function q(e){return e.map(({_id:t,book_image:s,author:n,title:o})=>`<li class="book-list-top-item">
            <img
            class="book-cover-top"
            data-book-id="${t}"            
            src="${s}"
            alt="book-cover"
            />
            <p class="book-title-top">${o}</p>
            <p class="book-author-top">${n}</p>
        </li>`).join("")}const u=document.querySelector(".bestseller"),Z=document.querySelector(".best-categories");W().then(e=>{Z.innerHTML=V(e)}).catch(e=>{console.error(e),M.Notify.failure("Sorry, there are no books found. Please try again!")});u.addEventListener("click",J);function J(e){const s=e.target.parentElement.querySelector(".category-title").textContent;u.innerHTML="",G(s).then(n=>{u.innerHTML=`<h1 class='bestseller-title'>${s}</h1>
                <div class="category-wrapper">
                <ul class="books-category-list">
                ${q(n)}                  
                </ul>                             
            </div>`,u.querySelectorAll(".book-list-top-item").forEach(o=>o.style.display="block")}).catch(n=>{console.error(n),M.Notify.failure("Sorry, there are no books found. Please try again!")})}new URL("../img/support/savechld.png",self.location).href,new URL("../img/support/2.svg",self.location).href,new URL("../img/support/3.svg",self.location).href,new URL("../img/support/4.svg",self.location).href,new URL("../img/support/5.svg",self.location).href,new URL("../img/support/6.svg",self.location).href,new URL("../img/support/7.svg",self.location).href,new URL("../img/support/8.svg",self.location).href,new URL("../img/support/9.svg",self.location).href;const C=new Swiper(".swiper-container",{slidesPerView:2,navigation:{nextEl:".show-button",prevEl:".hide-button"},loop:!1}),Q=document.querySelector(".show-button"),X=document.querySelector(".hide-button");Q.addEventListener("click",()=>C.slideNext());X.addEventListener("click",()=>C.slidePrev());const ee=document.querySelectorAll(".book"),v=document.getElementById("bookModal");document.getElementById("bookInfoModal");ee.forEach(e=>{e.addEventListener("click",()=>{const t=getBookData();te(t),v.style.display="block",document.addEventListener("keydown",w)})});function te(e){const t=e.list_name,s=e.author,n=e.description,o=e.book_image,r=new Map(e.buy_links.map(E=>[E.name,E.url])),l=r.get("Amazon"),_=r.get("Apple Books");bookInfoModal.innerHTML=`
    <img class="modal-img" src="${o}" alt="${t}">
    <h3 class="modal-title">${t}</h3>
    <p class="modal-author">Author: ${s}</p>
    <p class="modal-description">${n}</p>
    <a href="${l}" target="_blank" rel="noopener noreferrer" class="modal-link">Amazon</a>
    <a href="${_}" target="_blank" rel="noopener noreferrer" class="modal-link">Apple Books</a>
  `}function w(e){(e.key==="Escape"||e.keyCode===27)&&(v.style.display="none",document.removeEventListener("keydown",w))}const oe=document.querySelector(".close-modal-btn");function ne(){v.style.display="none",document.removeEventListener("keydown",w)}oe.addEventListener("click",ne);const g=document.getElementById("shoppingButton"),h=document.getElementById("successMessage");let f=!1;g.addEventListener("click",()=>{f?(g.textContent="Add to shopping list",h.style.display="none",f=!1):(g.textContent="Remove from the shopping list",h.textContent="Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",h.style.display="block",f=!0)});fetch("https://books-backend.p.goit.global/books").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{updateModalContent(e)}).catch(e=>{console.error("There has been a problem with your fetch operation:",e)});const se="Escape",re=document.querySelector("[data-modal-open]"),$=document.querySelector("[data-modal-close]"),B=document.querySelector("[data-modal]");document.querySelector(".authorization_form");document.querySelector("#user_name");document.querySelector("#user_email");document.querySelector("#user_password");const I=document.querySelector(".authorization_button_submit"),ie=document.querySelector(".sign-up-button-burger"),i=document.querySelector('[data-action="sign-up"]'),c=document.querySelector('[data-action="sign-in"]'),H=document.querySelector(".authorization_backdrop"),x=document.querySelector("#sign-in"),b=document.querySelector("#sign-up");re.addEventListener("click",U);ie.addEventListener("click",U);function A(e){e.currentTarget===e.target&&p()}function U(){b.reset(),B.classList.remove("is-hidden"),document.body.style.overflow="hidden",$.addEventListener("click",p),H.addEventListener("click",A),window.addEventListener("keydown",R)}function p(){B.classList.add("is-hidden"),document.body.style.overflow="",$.removeEventListener("click",p),H.removeEventListener("click",A),window.removeEventListener("keydown",R)}function R(e){e.key===se&&p()}i.disabled=!0;c.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("active-link"),i.classList.add("desactive-link"),c.classList.remove("desactive-link"),c.classList.add("active-link"),I.textContent="Sign in",x.classList.remove("display-form"),b.classList.add("display-form"),i.disabled=!1,c.disabled=!0});i.addEventListener("click",e=>{e.preventDefault(),i.classList.add("active-link"),i.classList.remove("desactive-link"),c.classList.add("desactive-link"),c.classList.remove("active-link"),I.textContent="Sign Up",x.classList.add("display-form"),b.classList.remove("display-form"),i.disabled=!0,c.disabled=!1});const y=document.querySelector(".button-to-top");window.addEventListener("scroll",ce);y.addEventListener("click",le);function ce(){const e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&y.classList.add("button-to-top--visible"),e<t&&y.classList.remove("button-to-top--visible")}function le(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})}const k={LIGHT:"light-theme",DARK:"dark-theme"},m=document.querySelector("body"),a=document.querySelector(".js-switch-theme");a.addEventListener("click",ae);function ae(e){e.currentTarget.checked?(m.classList.add("dark-theme"),localStorage.setItem("saveTheme",k.DARK),a.checked=!0):(m.classList.remove("dark-theme"),localStorage.setItem("saveTheme",k.LIGHT),a.checked=!1)}const de=localStorage.getItem("saveTheme");de===k.LIGHT?(m.classList.remove("dark-theme"),a.checked=!1):(m.classList.add("dark-theme"),a.checked=!0);const L=document.querySelector(".scroll-up"),ue=document.documentElement.scrollHeight;function me(){L.classList.remove("scroll-hide")}function pe(){L.classList.add("scroll-hide")}function ge(){window.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>.5*ue&&window.innerWidth>=768?me():pe()}),L.onclick=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}ge();
//# sourceMappingURL=scroll-up-07044fcd.js.map
