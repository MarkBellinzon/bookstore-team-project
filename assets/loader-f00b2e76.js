import{a,N as T,S as z}from"./vendor-5057f8db.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();a.defaults.baseURL="https://books-backend.p.goit.global/books";async function P(e){try{const{data:t}=await a.get("/category-list",{params:{list_name:e}});return t}catch(t){console.log(t.message)}}async function _(e){try{const t=await a.get(`/category?category=${e}`);return console.log(e),t.data}catch(t){console.log(t.message)}}const U=document.querySelector(".list-categories"),q=document.querySelector("h1"),C=document.querySelector(".wrapper-categories"),Y=document.querySelector(".best-categories"),F=document.querySelector(".bestseller-title"),K=document.querySelector(".container.bestseller");function R(e,t){const s=e.textContent.split(" "),o=s.pop(),n=s.join(" ")+` <span style="color: ${t};">${o}</span>`;e.innerHTML=n}P().then(e=>{e&&W(e)}).catch(e=>{console.log(e.message)});function W(e){const t=e.map(({list_name:o})=>`
        <li class="categories-item">${o}</li>
    `).join("");U.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".categories-item").forEach(o=>{o.addEventListener("click",G)})}function G(e){const t=e.target.textContent;C.innerHTML="",Y.innerHTML="",F.innerHTML="",q.innerHTML="",K.innerHTML="";const s=document.createElement("h1");s.textContent=t,s.classList.add("container"),q.appendChild(s),R(s,"#4F2EE8"),_(t).then(o=>{o&&V(o)}).catch(o=>{console.log(o.message)})}function V(e){const t=e.map(({book_image:s,title:o,author:n})=>`
        <div>
            <ul class="list-wrapper-categories">
                <li class="wrapper-categories-item">
                    <img src="${s}" alt="${o}" class="wrapper-categories-img" width="335" height="485" >
                    <h2>${o}</h2>
                    <p class="wrapper-categories-author">${n}</p>
                </li>
            </ul>
        </div>
    `).join("");C.insertAdjacentHTML("beforeend",t)}async function Z(){return await a.get("https://books-backend.p.goit.global/books/top-books").then(e=>{if(!e.status)throw new Error(e.status||e.statusText);return e.data})}async function J(e){return await a.get(`https://books-backend.p.goit.global/books/category?category=${e}`).then(t=>{if(!t.status)throw new Error(t.status||t.statusText);return t.data})}function Q(e){return e.map(({list_name:t,books:s})=>`<div class="category-div">
                <h3 class="category-title">${t}</h3>
                <ul class="book-list-top">
                ${M(s)}                  
                </ul>
                <button type="button" class="js-see-more-btn">See more</button>             
            </div>`).join("")}function M(e){return e.map(({_id:t,book_image:s,author:o,title:n})=>`<li class="book-list-top-item">
            <img
            class="book-cover-top"
            data-book-id="${t}"            
            src="${s}"
            alt="book-cover"
            />
            <p class="book-title-top">${n}</p>
            <p class="book-author-top">${o}</p>
        </li>`).join("")}const d=document.querySelector(".bestseller"),X=document.querySelector(".best-categories");Z().then(e=>{X.innerHTML=Q(e)}).catch(e=>{console.error(e),T.Notify.failure("Sorry, there are no books found. Please try again!")});d.addEventListener("click",ee);function ee(e){const s=e.target.parentElement.querySelector(".category-title").textContent;d.innerHTML="",J(s).then(o=>{d.innerHTML=`<h1 class='bestseller-title'>${s}</h1>
                <div class="category-wrapper">
                <ul class="books-category-list">
                ${M(o)}                  
                </ul>                             
            </div>`,d.querySelectorAll(".book-list-top-item").forEach(n=>n.style.display="block")}).catch(o=>{console.error(o),T.Notify.failure("Sorry, there are no books found. Please try again!")})}const te=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/support/1.svg"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/support/2.svg"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/support/3.svg"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/support/4.svg"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/support/5.svg"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/support/6.svg"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/support/7.svg"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/support/8.svg"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/support/9.svg"}],B=new z(".swiper-container",{slidesPerView:1,spaceBetween:10,loop:!1,pagination:{el:".swiper-pagination",clickable:!0}}),oe=document.querySelector(".swiper-wrapper");te.forEach((e,t)=>{const s=document.createElement("div");s.classList.add("swiper-slide"),t>=7&&s.classList.add("hidden-slide");const o=document.createElement("img");o.src=e.img,o.alt=e.title,o.addEventListener("click",()=>{console.log("Image clicked:",e.url),window.location.href=e.url}),s.appendChild(o);const n=document.createElement("div");n.classList.add("slide-number"),n.textContent=`0 ${t+1}`,s.appendChild(n),oe.appendChild(s)});B.updateSize();const ne=document.querySelectorAll(".swiper-slide.hidden-slide"),f=document.querySelector(".show-button"),k=document.querySelector(".hide-button");f.addEventListener("click",$);k.addEventListener("click",$);function $(){ne.forEach(e=>{e.classList.toggle("hidden-slide")}),B.updateSize(),f.style.display=f.style.display==="none"?"block":"none",k.style.display=k.style.display==="none"?"block":"none"}const se=document.querySelectorAll(".book"),w=document.getElementById("bookModal");document.getElementById("bookInfoModal");se.forEach(e=>{e.addEventListener("click",()=>{const t=getBookData();updateModalContent(t),w.style.display="block",document.addEventListener("keydown",L)})});function L(e){e.key==="Escape"&&(w.style.display="none",document.removeEventListener("keydown",L))}const re=document.querySelector(".close-modal-btn");function ie(){w.style.display="none",document.removeEventListener("keydown",L)}re.addEventListener("click",ie);const g=document.getElementById("shoppingButton"),h=document.getElementById("successMessage");let y=!1;g.addEventListener("click",()=>{y?(g.textContent="Add to shopping list",h.style.display="none",y=!1):(g.textContent="Remove from the shopping list",h.textContent="Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",h.style.display="block",y=!0)});fetch("https://books-backend.p.goit.global/books").then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{updateModalContent(e)}).catch(e=>{console.error("There has been a problem with your fetch operation:",e)});const ce="Escape",le=document.querySelector("[data-modal-open]"),I=document.querySelector("[data-modal-close]"),H=document.querySelector("[data-modal]");document.querySelector(".authorization_form");document.querySelector("#user_name");document.querySelector("#user_email");document.querySelector("#user_password");const x=document.querySelector(".authorization_button_submit"),ae=document.querySelector(".sign-up-button-burger"),i=document.querySelector('[data-action="sign-up"]'),c=document.querySelector('[data-action="sign-in"]'),A=document.querySelector(".authorization_backdrop"),j=document.querySelector("#sign-in"),E=document.querySelector("#sign-up");le.addEventListener("click",D);ae.addEventListener("click",D);function N(e){e.currentTarget===e.target&&m()}function D(){E.reset(),H.classList.remove("is-hidden"),document.body.style.overflow="hidden",I.addEventListener("click",m),A.addEventListener("click",N),window.addEventListener("keydown",O)}function m(){H.classList.add("is-hidden"),document.body.style.overflow="",I.removeEventListener("click",m),A.removeEventListener("click",N),window.removeEventListener("keydown",O)}function O(e){e.key===ce&&m()}i.disabled=!0;c.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("active-link"),i.classList.add("desactive-link"),c.classList.remove("desactive-link"),c.classList.add("active-link"),x.textContent="Sign in",j.classList.remove("display-form"),E.classList.add("display-form"),i.disabled=!1,c.disabled=!0});i.addEventListener("click",e=>{e.preventDefault(),i.classList.add("active-link"),i.classList.remove("desactive-link"),c.classList.add("desactive-link"),c.classList.remove("active-link"),x.textContent="Sign Up",j.classList.add("display-form"),E.classList.remove("display-form"),i.disabled=!0,c.disabled=!1});const b=document.querySelector(".button-to-top");window.addEventListener("scroll",de);b.addEventListener("click",ue);function de(){const e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&b.classList.add("button-to-top--visible"),e<t&&b.classList.remove("button-to-top--visible")}function ue(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})}const v={LIGHT:"light-theme",DARK:"dark-theme"},u=document.querySelector("body"),l=document.querySelector(".js-switch-theme");l.addEventListener("click",me);function me(e){e.currentTarget.checked?(u.classList.add("dark-theme"),localStorage.setItem("saveTheme",v.DARK),l.checked=!0):(u.classList.remove("dark-theme"),localStorage.setItem("saveTheme",v.LIGHT),l.checked=!1)}const pe=localStorage.getItem("saveTheme");pe===v.LIGHT?(u.classList.remove("dark-theme"),l.checked=!1):(u.classList.add("dark-theme"),l.checked=!0);const S=document.querySelector(".scroll-up"),ge=document.documentElement.scrollHeight;function he(){S.classList.remove("scroll-hide")}function ye(){S.classList.add("scroll-hide")}function fe(){window.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>.5*ge&&window.innerWidth>=768?he():ye()}),S.onclick=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}fe();function ke(){document.body.classList.add("loader-hide"),window.setTimeout(function(){document.body.classList.add("full-load"),document.body.classList.remove("loader-hide")},1e3)}window.addEventListener("load",ke);
//# sourceMappingURL=loader-f00b2e76.js.map
